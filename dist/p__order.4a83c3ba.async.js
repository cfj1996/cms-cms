(self.webpackChunkcms_cms=self.webpackChunkcms_cms||[]).push([[466],{67154:function(m){function t(){return m.exports=t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var u=arguments[a];for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n])}return e},m.exports.__esModule=!0,m.exports.default=m.exports,t.apply(this,arguments)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},91220:function(m,t,e){"use strict";e.d(t,{Z:function(){return u}});var a=e(64254);function u(n,s){var f;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(f=(0,a.Z)(n))||s&&n&&typeof n.length=="number"){f&&(n=f);var b=0,r=function(){};return{s:r,n:function(){return b>=n.length?{done:!0}:{done:!1,value:n[b++]}},e:function(E){throw E},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,i=!1,T;return{s:function(){f=n[Symbol.iterator]()},n:function(){var E=f.next();return v=E.done,E},e:function(E){i=!0,T=E},f:function(){try{!v&&f.return!=null&&f.return()}finally{if(i)throw T}}}}},19809:function(m,t,e){"use strict";e.d(t,{Z:function(){return b}});function a(r){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},a(r)}function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function n(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(i){return typeof i}:n=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},n(r)}function s(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function f(r,v){return v&&(n(v)==="object"||typeof v=="function")?v:s(r)}function b(r){var v=u();return function(){var T=a(r),g;if(v){var E=a(this).constructor;g=Reflect.construct(T,arguments,E)}else g=T.apply(this,arguments);return f(this,g)}}},81306:function(m,t,e){"use strict";e.d(t,{Z:function(){return u}});function a(n,s){return a=Object.setPrototypeOf||function(b,r){return b.__proto__=r,b},a(n,s)}function u(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),s&&a(n,s)}},15435:function(m,t,e){"use strict";e.d(t,{Z:function(){return L}});var a=e(91220),u=e(2824),n=e(84305),s=e(39559),f=e(9715),b=e(41003),r=e(11849),v=e(71194),i=e(50146),T=e(3182),g=e(93224),E=e(69610),B=e(54941),K=e(81306),k=e(19809),z=e(94043),Y=e.n(z),N=e(67294),V=e(73935),H=e(82925),F=e(85893),W=0,L=function(J){(0,K.Z)(O,J);var U=(0,k.Z)(O);function O(){var C;(0,E.Z)(this,O);for(var l=arguments.length,d=new Array(l),P=0;P<l;P++)d[P]=arguments[P];return C=U.call.apply(U,[this].concat(d)),C.node=void 0,C.state={visible:!0,iSFinish:!1,loading:!1},C}return(0,B.Z)(O,[{key:"componentWillUnmount",value:function(){}},{key:"onCancel",value:function(){this.setState({visible:!1})}},{key:"componentDidMount",value:function(){this.props.dialogRef(this)}},{key:"render",value:function(){var l=this,d=this.props,P=d.type,M=P===void 0?"from":P,Z=d.title,x=d.content,p=d.onOK,c=d.onCancel,S=d.afterClose,G=(0,g.Z)(d,["type","title","content","onOK","onCancel","afterClose"]),h=this.state,R=h.visible,$=h.loading,I=h.iSFinish,A=M==="from"?N.cloneElement(x,{ref:function(_){return l.node=_}}):x;return(0,F.jsx)(s.ZP,{locale:H.Z,children:(0,F.jsx)(b.Z.Provider,{onFormFinish:function(){var D=(0,T.Z)(Y().mark(function _(o,Q){return Y().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,l.setState({loading:!0,iSFinish:!0}),j.next=4,p==null?void 0:p(o,Q);case 4:l.setState({loading:!1,visible:!1}),j.next=10;break;case 7:j.prev=7,j.t0=j.catch(0),l.setState({loading:!1});case 10:case"end":return j.stop()}},_,null,[[0,7]])}));return function(_,o){return D.apply(this,arguments)}}(),children:(0,F.jsx)(i.Z,(0,r.Z)((0,r.Z)({},G),{},{afterClose:S,title:Z,visible:R,onOk:function(){if(M==="from"||l.props.footer!==null){var _,o;(_=l.node)===null||_===void 0||(o=_.submit)===null||o===void 0||o.call(_)}else l.setState({visible:!1}),p==null||p()},destroyOnClose:!0,confirmLoading:$,onCancel:function(){var _;c==null||c(I),(_=l.onCancel)===null||_===void 0||_.call(l)},children:A}))})})}}],[{key:"open",value:function(l){W++;var d=document.createElement("div"),P=document.documentElement.appendChild(d),M=null;return V.render((0,F.jsx)(O,(0,r.Z)((0,r.Z)({},l),{},{dialogRef:function(x){M=x},afterClose:function(){document.documentElement.removeChild(P)}})),P),O.dialogs.set(W,M),W}},{key:"close",value:function(l){var d;console.log(O.dialogs.get(l)),(d=O.dialogs.get(l))===null||d===void 0||d.onCancel()}},{key:"closeAll",value:function(){var l=(0,a.Z)(O.dialogs),d;try{for(l.s();!(d=l.n()).done;){var P=d.value,M=(0,u.Z)(P,1),Z=M[0];O.close(Z)}}catch(x){l.e(x)}finally{l.f()}}}]),O}(N.Component);L.dialogs=new Map},41470:function(m,t,e){"use strict";e.r(t),e.d(t,{default:function(){return x}});var a=e(57663),u=e(71577),n=e(34792),s=e(48086),f=e(3182),b=e(71194),r=e(50146),v=e(94043),i=e.n(v),T=e(67265),g=e(27571),E=e(67294),B=e(67607),K;(function(p){p.online="\u7EBF\u4E0A",p.in_kine="\u5B9E\u7269"})(K||(K={}));var k={pending:{text:"\u5F85\u4ED8\u6B3E",status:"Warning"},shipped:{text:"\u5F85\u53D1\u8D27",status:"Default"},received:{text:"\u5F85\u6536\u8D27",status:"Default"},completed:{text:"\u5DF2\u5B8C\u6210",status:"Success"},canceled:{text:"\u5DF2\u53D6\u6D88",status:"Error"}},z=function(c){return B.Z.get("/orders/search",c).then(function(S){return{success:S.code==="ok",data:S.data.list,total:S.data.total}})},Y=function(c){return B.Z.post("/orders/delivery",c)},N=function(c){return Server.post("/platfrom/shipment",c)},V=function(c){return Server.post("/orders/completed",c)},H=function(c){return B.Z.post("/platfrom/shipment",{order_id:c})},F=function(c){return B.Z.post("/orders/completed",c)},W=e(15435),L=e(11849),J=e(9715),U=e(41003),O=e(2824),C=e(5966),l=e(85893),d={labelCol:{xs:{span:4}},wrapperCol:{xs:{span:20}}},P=(0,E.forwardRef)(function(p,c){var S=U.Z.useForm(),G=(0,O.Z)(S,1),h=G[0],R={track_number:""};return(0,E.useImperativeHandle)(c,function(){return{submit:function(){h.submit()}}}),(0,l.jsx)(U.Z,(0,L.Z)((0,L.Z)({form:h,initialValues:R},d),{},{children:(0,l.jsx)(C.Z,{name:"track_number",label:"\u5FEB\u9012\u5355\u53F7",placeholder:"\u8BF7\u8F93\u5165\u5FEB\u9012\u5355\u53F7",required:!0,rules:[{required:!0}]})}))}),M=P,Z=function(){var c=(0,E.useRef)();function S(h){h.delivery_type==="online"?r.Z.confirm({title:"\u53D1\u8D27",content:"\u786E\u8BA4\u53D1\u8D27\u5417\uFF1F",onOk:function(){return(0,f.Z)(i().mark(function $(){var I,A,D;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,H(h.id);case 3:if(I=o.sent,!(I.code==="ok"&&I.data.hash)){o.next=16;break}return o.next=7,F({order_id:h.id,hash:I.data.hash});case 7:if(A=o.sent,A.code!=="ok"){o.next=13;break}s.default.success("\u53D1\u8D27\u6210\u529F"),(D=c.current)===null||D===void 0||D.reload(),o.next=14;break;case 13:throw new Error(A.msg);case 14:o.next=17;break;case 16:throw new Error(I.msg||"\u83B7\u53D6hash\u9519\u8BEF\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458");case 17:o.next=23;break;case 19:throw o.prev=19,o.t0=o.catch(0),s.default.error(o.t0.message),o.t0;case 23:case"end":return o.stop()}},$,null,[[0,19]])}))()}}):W.Z.open({title:"\u53D1\u8D27",content:(0,l.jsx)(M,{}),onOK:function($,I){return(0,f.Z)(i().mark(function A(){var D,_,o;return i().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,D=I==null?void 0:I.values,y.next=4,Y({track_number:D.track_number,order_id:h.id,contact_name:h.contact_name,contact_mobile:h.contact_mobile,address:h.address});case 4:if(_=y.sent,_.code!=="ok"){y.next=10;break}s.default.success("\u5B9E\u7269\u53D1\u8D27\u6210\u529F"),(o=c.current)===null||o===void 0||o.reload(),y.next=11;break;case 10:throw new Error(_.msg);case 11:y.next=17;break;case 13:throw y.prev=13,y.t0=y.catch(0),s.default.error(y.t0.message),y.t0;case 17:case"end":return y.stop()}},A,null,[[0,13]])}))()}})}var G=[{title:"\u5546\u54C1\u540D\u79F0",hideInSearch:!0,dataIndex:"title"},{title:"\u4E70\u5BB6",hideInSearch:!0,dataIndex:"buyer_name"},{title:"\u8054\u7CFB\u4EBA",hideInSearch:!0,dataIndex:"contact_name"},{title:"\u8054\u7CFB\u65B9\u5F0F",hideInSearch:!0,dataIndex:"contact_mobile",ellipsis:!0,copyable:!0},{title:"\u8054\u7CFB\u5730\u5740",hideInSearch:!0,dataIndex:"address",ellipsis:!0,copyable:!0},{title:"\u5356\u5BB6\u540D\u79F0",hideInSearch:!0,dataIndex:"seller_name"},{title:"\u8BA2\u5355\u72B6\u6001",valueType:"select",dataIndex:"state",valueEnum:k},{title:"\u5FEB\u9012\u5355\u53F7",hideInSearch:!0,dataIndex:"track_number",ellipsis:!0,copyable:!0},{title:"\u552E\u51FAID",hideInSearch:!0,dataIndex:"nft_number"},{title:"\u4F5C\u54C1\u4EF7\u683C",hideInSearch:!0,dataIndex:"price"},{title:"\u8D2D\u4E70\u6570\u91CF",hideInSearch:!0,dataIndex:"amount"},{dataIndex:"delivery_type",title:"\u8BA2\u5355\u7C7B\u578B",valueType:"select",valueEnum:K,hideInSearch:!0},{dataIndex:"deal_at",title:"\u4EA4\u6613\u65F6\u95F4",valueType:"dateTime",hideInSearch:!0},{dataIndex:"created_at",title:"\u521B\u5EFA\u65F6\u95F4",valueType:"dateTime",hideInSearch:!0},{dataIndex:"updated_at",title:"\u66F4\u65B0\u65F6\u95F4",valueType:"dateTime",hideInSearch:!0},{title:"\u64CD\u4F5C",align:"right",valueType:"option",hideInSearch:!0,render:function(R,$){return[(0,l.jsx)(u.Z,{onClick:function(){return S($)},disabled:$.state!=="shipped",style:{padding:0},type:"link",children:"\u53D1\u8D27"},1)]}}];return(0,l.jsx)(T.ZP,{children:(0,l.jsx)(g.ZP,{actionRef:c,columns:G,request:function(R){return z(R)},columnsState:{persistenceKey:"pro-table-singe-demos-8",persistenceType:"localStorage"},rowKey:"id",search:{labelWidth:"auto"},dateFormatter:"number",headerTitle:"\u8BA2\u5355\u7BA1\u7406"})})},x=Z},80037:function(m,t,e){"use strict";var a=e(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(e(5584)),n=u.default;t.default=n},5584:function(m,t,e){"use strict";var a=e(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(e(67154)),n=a(e(85369)),s=a(e(15704)),f={lang:(0,u.default)({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},n.default),timePickerLocale:(0,u.default)({},s.default)};f.lang.ok="\u786E\u5B9A";var b=f;t.default=b},82925:function(m,t,e){"use strict";var a,u=e(95318);a={value:!0},t.Z=void 0;var n=u(e(74219)),s=u(e(5584)),f=u(e(15704)),b=u(e(80037)),r="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}",v={locale:"zh-cn",Pagination:n.default,DatePicker:s.default,TimePicker:f.default,Calendar:b.default,global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00"},PageHeader:{back:"\u8FD4\u56DE"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:r,method:r,array:r,object:r,number:r,date:r,boolean:r,integer:r,float:r,regexp:r,email:r,url:r,hex:r},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"}},i=v;t.Z=i},15704:function(m,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},a=e;t.default=a},74219:function(m,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};t.default=e},85369:function(m,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},a=e;t.default=a}}]);
